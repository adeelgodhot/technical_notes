var selector=".wk-editor",offset=50,elementObj=Object.create(null),initialScrollPos=-1;function zoomerMan(){el=elementObj.img,elementObj.overlay=document.createElement("div"),elementObj.overlay.classList.add("zm-zoomer-overlay"),elementObj.body.appendChild(elementObj.overlay);elementObj.overlay.offsetWidth;elementObj.overlay.classList.add("zm-overlay-on"),actionInitiation(scaleFinder({w:el.naturalWidth,h:el.naturalHeight}))}function scaleFinder(e){var t=e.w/elementObj.img.width,n=document.documentElement.clientWidth-offset,o=document.documentElement.clientHeight-offset,l=e.w/e.h,i=n/o;return e.w<n&&e.h<o?t:l<i?o/e.h*t:n/e.w*t}function actionInitiation(e){el=elementObj.img;var t=window.pageYOffset,n=el.getBoundingClientRect(),o=document.documentElement,l=window,i=n.left+l.pageXOffset-o.clientLeft,a=n.top+l.pageYOffset-o.clientTop,r=i+el.width/2,m=a+el.height/2,d="translate3d("+(document.documentElement.clientWidth/2-r)+"px, "+(t+document.documentElement.clientHeight/2-m)+"px, 0px)",c="scale("+e+")";el.classList.add("zm-zoomer-out"),el.style.transform=d+" "+c}document.addEventListener("DOMContentLoaded",(function(){elementObj.body=document.body;for(var e=document.querySelectorAll(selector)[0].getElementsByTagName("img"),t=0;t<e.length;t++)if(!e[t].classList.contains("zoomer-null")){if("A"==e[t].parentNode.nodeName&&e[t].getAttribute("data-src")!=e[t].parentElement.href&&e[t].getAttribute("src")!=e[t].parentElement.href)continue;e[t].classList.add("zm-zoomer","zm-zoomer-in"),e[t].addEventListener("click",(function(e){elementObj.img=this,e.preventDefault(),zoomerMan(),addZoomOffListeners()}))}}));var addZoomOffListeners=function(){document.addEventListener("keyup",handleKeyup),document.addEventListener("click",handleClick,!0),document.addEventListener("scroll",handleScroll),document.addEventListener("touchmove",handleScroll)},removeZoomOffListeners=function(){document.removeEventListener("keyup",handleKeyup),document.removeEventListener("click",handleClick,!0),document.removeEventListener("scroll",handleScroll),document.removeEventListener("touchstart",handleScroll)},handleClick=function(e){e.preventDefault(),e.stopPropagation(),closeZoomer()},handleScroll=function(){-1==initialScrollPos&&(initialScrollPos=window.pageYOffset),Math.abs(initialScrollPos-window.pageYOffset)>=100&&closeZoomer()},handleKeyup=function(e){27==e.keyCode&&closeZoomer()};function closeZoomer(){elementObj.img.style.transform="none",elementObj.img.classList.remove("zm-zoomer-out"),elementObj.overlay.classList.add("zm-overlay-off"),elementObj.overlay.addEventListener("transitionend",(function(){elementObj.body.removeChild(elementObj.overlay)})),removeZoomOffListeners()}