function addListenerToReplyBtns(){addComment.init(),replyBtns=document.querySelectorAll(".comment-reply-link"),replyBtns.forEach(function(e){e.addEventListener("click",function(){errorSpace.classList.remove("has-error")})})}function parseHTML(e){var t=document.createElement("template");return t.innerHTML=e,t.content.cloneNode(!0)}function HandleLoadMoreRequest(){"newest"===displayScheme?(cpage--,compareVal=1):"oldest"===displayScheme&&(cpage++,compareVal=totCommentPage);var t=document.querySelector(".wk-comment-response-wrapper");selectButton.innerText="Loading...",window.ActiveXObject?httpRequest=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(httpRequest=new XMLHttpRequest),data=[],data.action=ajaxurl+"?action=cloadmore",data.post_id=parent_post_id,data.cpage=cpage,httpRequest.open("POST",data.action,!0),httpRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),httpRequest.send("post_id="+data.post_id+"&cpage="+data.cpage),httpRequest.onreadystatechange=function(){if(4==this.readyState&&200==this.status)if(this.responseText){var e=parseHTML(this.responseText);t.appendChild(e),selectButton.innerText="More comments",addListenerToReplyBtns(),cpage==compareVal&&selectButton.remove()}else selectButton.remove()}}document.addEventListener("DOMContentLoaded",function(){var c=document.querySelector("#respond");null!=c&&null!=c&&(thisForm=document.querySelector("#commentform"),selectButton=document.getElementById("load-more"),errorSpace=document.querySelector(".comment-area"),thisForm.addEventListener("submit",function(e){var t,n=c.querySelector("#email"),r=c.querySelector("#comment");if(null!=r&&null!=r&&""==r.value)e.preventDefault(),t="Please enter the comment",errorSpace.setAttribute("data-error",t),errorSpace.classList.add("has-error");else if(null!=n&&null!=n){var a=(n=n.value).indexOf("@"),o=n.lastIndexOf(".");(a<1||o<a+2||o+2>=n.length)&&(e.preventDefault(),t="Please enter a valid Email ID",errorSpace.setAttribute("data-error",t),errorSpace.classList.add("has-error"))}}),null!=selectButton&&null!=selectButton&&(selectButton.onclick=function(){HandleLoadMoreRequest()}),addListenerToReplyBtns())});